<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Featured Products - Long Stick</title>
    <link rel="icon" href="../images/logo1.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Joti+One&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../style.css">
    <style>
        #header {
            background: #beffba !important; 
            height: 45vh !important;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #nav {
            background-color: white !important;
        }

        #header .title h1 {
            font-size: 5rem;
            margin-top: 1.4rem;    
        }
    </style>
</head>
<body>

    <div id="main">
        <!-- Header -->
        <div id="header" class="container-fluid">
            <div id="nav" class="container-fluid py-3  px-0">
                
                <div class="row align-items-center justify-content-around px-sm-5 px-0">
                    <div class="nav-items col-4 d-none d-xl-block">
                        <a href="#">Shop</a>
                        <a href="#">About</a>
                        <a href="#">Contact Us</a>
                    </div>
                    <div class="col-xl-4 col-10 d-flex justify-content-xl-center">
                        <div class="nav-burger d-xl-none d-flex">
                               <button> 
                               <i class="fa-solid fa-bars"></i>
                           </button>
                        </div>

                        <div class="nav-logo">   
                            <a href="../index.html">
                                <h1 class=" m-0">Long Stick</h1>
                            </a>
                        </div>
                    </div>
                    <div class="col-xl-4 col-2 nav-icons d-flex  justify-content-end align-items-center">
                        <a class="btn" href="#" class="">
                            <i class="fa-solid fa-user"></i>
                        </a>
                        <a class="btn" onclick="CART.showHiddenCart()">
                            <i class="fa-solid fa-cart-shopping"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="title">
                <h1>All Products</h1>
            </div>
        </div>

        <!-- Items -->
        <div class="container-fluid" id="item-collections">
            <div class="row justify-content-center gap-4">
                <div class="navigator col-lg-3 col-12">
                    <h3 style="font-style: italic;" class="mb-lg-5">Collections</h3>
                    <ul class="p-0 d-lg-block d-flex justify-content-center gap-3"> </ul>
                </div>
                <div class="contents col-lg-7 col-12">
                    <div class="content-item" id="a-stick">
                        <div class="title">
                            <h2>A Stick</h2>
                            <span></span>
                        </div>
                        <div class="items"></div>
                    </div>
                    <div class="content-item" id="a-non-stick">
                        <div class="title">
                            <h2>A Non Stick</h2>
                            <span></span>
                        </div>
                        <div class="items"></div>
                    </div>
                    <div class="content-item" id="a-non-stick-pan">
                        <div class="title">
                            <h2>A Non Stick Pan ?</h2>
                            <span></span>
                        </div>
                        <div class="items"></div>
                    </div>
                    <div class="content-item" id="stick-o">
                        <div class="title">
                            <h2>Stick - O</h2>
                            <span></span>
                        </div>
                        <div class="items"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="cart">
        <div class="head">
            <h3>Your Cart</h3>
            <button onclick="CART.hideHiddenCart()">
                <i class="fa-solid fa-x"></i>
            </button>
        </div>
        <div class="pt-4">
            <div class="text-center cart-greeting">
                <h5>Your Cart is like your Brain</h5>
                <p>Empty!</p>
            </div>
            <div class="cart-items container-fluid p-0"></div>
        </div>
        <div class="checkout">
            <button>$150 - Checkout</button>
        </div>
    </div>

    <script type="text/javascript" src="../main.js"></script>
    <script type="text/javascript">
        function init() {
            // containers of every category starting from A Stick which is at position 0;
            const containers = document.querySelectorAll("#item-collections .items");  
            const CategoryName = ["A Stick","A Non Stick","A Non Stick Pan?","Stick - O"];
            
            // holder for every innerHTML of the containers that will be place later.
            // same indexing as containers
            const itemHTMLs = new Array(containers.length).fill("");

            for (let i = 0;i <  CART.items.length;i++) {
                let {id,name,image,subname,
                     current_price,previous_price,
                     review,category} = CART.items[i];

                let itemHTML = `
                    <div class="card">
                            <div class="card-img-top">
                                <img src=".${image}" class="img-fluid" />
                                <div class="actions">
                                    <button>Learn More</button>
                                    <button onclick="CART.addItem('${id}')">Add to Cart</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="name">
                                    <div class="left">
                                        <a href="">${name}</a>                                      
                                        <p style="font-size: 0.9rem;"><i>${subname}</i></p>
                                    </div>
                                    <div class="right">
                                        <p style="font-size: 1.2rem;">$${current_price ? current_price : "Free"}</p>
                                        ${previous_price ? `<p style="text-decoration: line-through;color:gray;font-size: 0.8rem;text-align: right;">$${previous_price}</p>` : ""}
                                    </div>         
                                </div>
                                <div class="reviews">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <span>&nbsp;${numberFormatter(review)} Reviews</span>
                                </div>
                            </div>
                     </div>
                `;
                
                for (let i = 0;i < category.length;i++) {
                    const index = category[i];
                    itemHTMLs[index] = itemHTMLs[index] + itemHTML;
                }
            }
            
            console.log(itemHTMLs);
            //placing the innerHTML in the right container
            for (let i = 0;i < containers.length;i++) {
                const container = containers[i];
                container.innerHTML = itemHTMLs[i];
            }

            addNavigators(CategoryName);
        }
        
        function addNavigators(navigatorNames) {
            const container = document.querySelector(".navigator ul");
            
            //add the default 
            navigatorNames.unshift("All Products");
            
            let navigatorHTMLs = ``;
            for (let i = 0;i < navigatorNames.length;i++) {
                const navigatorName = navigatorNames[i];
                const isDefault = navigatorName === "All Products"; 
                const navigatorHTML = `
                    <li>
                        <button class="stick-btn-inverse ${isDefault && "active"}" onclick="SHOP.display('${isDefault ? '' : stringFormatter(navigatorName)}',this)">${navigatorName}</button>
                    </li>`;
                navigatorHTMLs += navigatorHTML;
            }
            
           container.innerHTML = navigatorHTMLs;
        }
   </script>

</body>
</html>
